# This is a generated file, do not edit this file directly.
# This file is managed by the typescript-tools, see
# https://github.com/typescript-tools/ for more information.

LERNA = ./node_modules/.bin/lerna
MONOREPO = ./node_modules/.bin/monorepo

MAKEDEPEND = $(MONOREPO) make-depend \
	--root {{ root }} \
	--package-directory {{ package_directory }} \
	--output-file {{ output_file }}

{{ unscoped_package_name.replace("-", "_").to_uppercase() }}_INTERNAL_DEPENDENCY_MANIFESTS = {{ inclusive_internal_dependency_package_jsons.join(" \\\n") }}

{{ package_directory }}/node_modules: node_modules $({{ unscoped_package_name.replace("-", "_").to_uppercase() }}_INTERNAL_DEPENDENCY_MANIFESTS)
	@$(MAKEDEPEND)
	$(LERNA) bootstrap --force-local --scope={{ scoped_package_name }} --include-dependencies
	@touch $@

$({{ unscoped_package_name.replace("-", "_").to_uppercase() }}_INTERNAL_DEPENDENCY_MANIFESTS):
